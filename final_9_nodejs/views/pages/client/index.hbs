<!-- carousel -->
<div id="search-info" class="row m-0">
    <div id="carouselExampleSlidesOnly" class="carousel slide p-0" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./img/homepage/slideshow-1.jpeg" class="d-block w-100 object-fit-cover"
                    style="aspect-ratio: 31/9;" alt="...">
            </div>
            <div class="carousel-item">
                <img src="./img/homepage/slideshow-2.jpg" class="d-block w-100 object-fit-cover"
                    style="aspect-ratio: 31/9;" alt="...">
            </div>
            <div class="carousel-item">
                <img src="./img/homepage/slideshow-3.jpg" class="d-block w-100 object-fit-cover"
                    style="aspect-ratio: 31/9;" alt="...">
            </div>
        </div>
    </div>
</div>

<!-- form -->
<div class="row m-0">
    <div class="container justify-content-center d-flex" style="margin-top: -15vh;">
        <form class="g-4 bg-white z-1 p-5 position-relative rounded-3 m-auto mb-3 shadow-lg needs-validation"
            style="width: 80vw;" method="post" action="select-flight">
            <!--- abc -->
            <!-- heading -->
            <div class="row">
                <h2>B·∫°n mu·ªën ƒë·∫øn n∆°i n√†o?</h2>
            </div>
            <!-- 1 -->
            <div class="row">
                <!-- ƒêi theo lo·∫°i -->
                <div class="col-md-6">
                    <select id="type" name="type" class="form-select form-select-lg mb-3"
                        aria-label=".form-select-lg example" style="display: inline-block;">
                        <option value="M·ªôt chi·ªÅu" selected>M·ªôt chi·ªÅu</option>
                        <option value="Kh·ª© h·ªìi">Kh·ª© H·ªìi</option>
                    </select>
                </div>

                <!-- S·ªë l∆∞·ª£ng ng∆∞·ªùi -->

                <!-- H·∫°ng -->
                <div class="col-md-6">
                    <select name="class" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example"
                        style="display: inline-block;">
                        <option value="Ph·ªï Th√¥ng" selected>Ph·ªï Th√¥ng</option>
                        <option value="Th∆∞∆°ng Gia">Th∆∞∆°ng Gia</option>
                    </select>
                </div>
            </div>
            <!-- 2 -->
            <div class="row">
                <div class="col-12 col-lg-6">
                    <div class="input-group">
                        <span class="input-group-text mb-3 fs-5 bg-white fw-semibold">T·ª´</span>
                        <select name="departure_airport_id" id="departure_airport_id" class="form-select form-select-lg mb-3"
                            aria-label=".form-select-lg example" style="display: inline-block;">
                            {{#each airports}}
                                <option value="{{this._id}}">{{this.airport_location}}</option>
{{/each}}
                        </select>
                        <span class="fa-solid fa-arrow-right-arrow-left mb-3 mt-4 ms-3 d-none d-lg-block fa-lg"></span>
                    </div>
                </div>

                <div class="col-12 col-lg-6">
                    <div class="input-group">
                        <span class="input-group-text mb-3 fs-5 bg-white fw-semibold">ƒê·∫øn</span>
                        <select name="arrival_airport_id" id="arrival_airport_id" class="form-select form-select-lg mb-3"
                            aria-label=".form-select-lg example" style="display: inline-block;">
                            {{#each airports}}
                                <option value="{{this._id}}">{{this.airport_location}}</option>
                            {{/each}}
                        </select>
                    </div>
                </div>
            </div>

            <!-- 3 -->
            <div class="row">
                <div class="col">
                    <div class="input-group">
                        <span id="khoiHanh" class="input-group-text fs-5 p-2 fw-semibold bg-white">Kh·ªüi
                            H√†nh</span>
                        <input type="date" class="form-control d-block m-auto p-2 fs-5" min="" max="" name="departure_datetime"
                            value="" id="departure_datetime" required>
                        <div class="invalid-feedback">
                            Vui l√≤ng ch·ªçn ng√†y ƒëi.
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="input-group" id="chuyenVe">
                        <span id="chuyenVe" class="input-group-text fs-5 p-2 fw-semibold bg-white">Chuy·∫øn
                            V·ªÅ</span>
                        <input type="date" class="form-control d-block m-auto p-2 fs-5" min="" max="" name="toDate"
                            value="" id="toDate">
                        <div class="invalid-feedback">
                            Vui l√≤ng ch·ªçn ng√†y v·ªÅ.
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4 -->
            <div class="row mt-3">
                <div class="col-12">
                    <button type="submit" class="btn btn-primary float-end rounded-5 p-3 fs-5 fw-semibold" type="button"
                        style="background-color:  #51d4a6; border: none;">T√¨m ki·∫øm</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="container" style="position: relative; margin-top: 5vh;">
    <h2 class="mb-4 text-center">üß≠Kh√°m ph√° c√°c ƒë·ªãa ƒëi·ªÉm ngh·ªâ d∆∞·ª°ng cao c·∫•p</h2>

    <div class="row row-cols-1 row-cols-lg-4 row-cols-md-2 g-2 text-center">

        <div class="col">
            <div class="card shadow-lg">
<img src="./img/homepage/thu-do-Ha-Noi.jpg" class="card-img-top object-fit-fill" alt="..."
                    style="aspect-ratio: 1/1;">
                <div class="card-body">
                    <h5 class="card-title">Th·ªß ƒë√¥ H√† N·ªôi</h5>
                    <a href="/discover/HaNoi" class="btn btn-primary border-0" style="background: #8DD3BB">Xem ngay</a>
                </div>
            </div>

        </div>
        <div class="col">
            <div class="card shadow-lg">
                <img src="./img/homepage/thanh-pho-Ho-Chi-Minh.jpg" class="card-img-top object-fit-fill"
                    alt="..." style="aspect-ratio: 1/1;">
                <div class="card-body">
                    <h5 class="card-title">Th√†nh ph·ªë H·ªì Ch√≠ Minh</h5>
                    <a href="/discover/HoChiMinh" class="btn btn-primary border-0" style="background: #8DD3BB">Xem ngay</a>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card shadow-lg">
                <img src="./img/homepage/thanh-pho-Da-Nang.jpg" class="card-img-top object-fit-fill"
                    alt="..." style="aspect-ratio: 1/1;">
                <div class="card-body">
                    <h5 class="card-title">Th√†nh ph·ªë ƒê√† N·∫µng</h5>
                    <a href="/discover/DaNang" class="btn btn-primary border-0" style="background: #8DD3BB">Xem ngay</a>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card shadow-lg">
                <img src="./img/homepage/Hue.jpg" class="card-img-top object-fit-fill" alt="..."
                    style="aspect-ratio: 1/1;">
                <div class="card-body">
                    <h5 class="card-title">Kinh Th√†nh Hu·∫ø</h5>
                    <a href="/discover/Hue" class="btn btn-primary border-0" style="background: #8DD3BB">Xem ngay</a>
                </div>
            </div>
        </div>
    </div>
</div>


<style>
    :root {
        --sl-primary: #006ce4;
        --sl-dark: #002d63;
        --sl-text: #333333;
        --sl-text-light: #666666;
        --sl-border: #e6e9ed;
        --sl-white: #ffffff;
    }

    .sl-container {
        max-width: 1100px;
        margin: 40px auto;
        padding: 0 20px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    }

    .sl-trust-section {
        margin-bottom: 30px;
    }

    .sl-trust-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
        flex-wrap: wrap;
        gap: 10px;
    }

    .sl-trust-header h2 {
        font-size: 24px;
        color: var(--sl-text);
        margin: 0;
        font-weight: 500;
    }

    .sl-trust-header h2 span {
        color: var(--sl-primary);
        font-weight: bold;
    }

    .sl-register-link {
        color: var(--sl-text);
        text-decoration: none;
        font-weight: 500;
        font-size: 14px;
    }

    .sl-trust-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 16px;
    }

    .sl-trust-card {
        border: 1px solid var(--sl-border);
        border-radius: 12px;
        padding: 24px;
        background-color: var(--sl-white);
        transition: box-shadow 0.3s ease;
    }

    .sl-trust-card:hover {
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    }

    .sl-icon-box {
        font-size: 32px;
        margin-bottom: 15px;
        display: block;
    }

    .sl-card-title {
        font-size: 17px;
        font-weight: 700;
        margin: 0 0 12px 0;
        color: var(--sl-dark);
    }

    .sl-card-desc {
        font-size: 14px;
        color: var(--sl-text-light);
        line-height: 1.5;
        margin: 0;
    }

    .sl-app-link {
        display: inline-block;
        margin-top: 12px;
        color: var(--sl-primary);
        text-decoration: none;
        font-size: 13px;
        font-weight: 500;
    }

    @media (max-width: 600px) {
        .sl-trust-header h2 { font-size: 20px; }
        .sl-trust-grid { grid-template-columns: 1fr; }
    }
</style>

<div class="sl-container">
    
    <section class="sl-trust-section">
        <div class="sl-trust-header">
            <h2><span>StarLine</span> ng∆∞·ªùi b·∫°n ƒë∆∞·ªùng ƒë√°ng tin c·∫≠y c·ªßa b·∫°n</h2>
            <a href="#" class="sl-register-link">ƒêƒÉng k√Ω ngay &rsaquo;</a>
        </div>
        <div class="sl-trust-grid">
            <div class="sl-trust-card">
                <div class="sl-icon-box">‚≠ê</div>
                <h3 class="sl-card-title">Ti·∫øt Ki·ªám & Nh·∫≠n Th∆∞·ªüng</h3>
                <p class="sl-card-desc">ƒêƒÉng k√Ω th√†nh vi√™n ƒë·ªÉ h∆∞·ªüng c√°c ∆∞u ƒë√£i ƒë·ªôc quy·ªÅn v√† t√≠ch l≈©y Star Points.</p>
            </div>
            <div class="sl-trust-card">
                <div class="sl-icon-box">üåç</div>
                <h3 class="sl-card-title">H·ªó Tr·ª£ To√†n C·∫ßu</h3>
                <p class="sl-card-desc">H·ª£p t√°c v·ªõi h∆°n 600 h√£ng h√†ng kh√¥ng qu·ªëc t·∫ø tr√™n to√†n th·∫ø gi·ªõi.</p>
            </div>
            <div class="sl-trust-card">
                <div class="sl-icon-box">‚ö°</div>
                <h3 class="sl-card-title">Ph·∫£n H·ªìi Sau 30 Gi√¢y</h3>
                <p class="sl-card-desc">Ch√∫ng t√¥i cam k·∫øt h·ªó tr·ª£ kh√°ch h√†ng nhanh ch√≥ng qua m·ªçi k√™nh li√™n l·∫°c.</p>
            </div>
            <div class="sl-trust-card">
                <div class="sl-icon-box">üì±</div>
                <h3 class="sl-card-title">∆Øu ƒê√£i Tr√™n ·ª®ng D·ª•ng</h3>
                <p class="sl-card-desc">ƒê·∫∑t b·∫±ng ·ª©ng d·ª•ng StarLine ƒë·ªÉ nh·∫≠n th√™m m√£ gi·∫£m gi√° t·ª©c th√¨.</p>
                <a href="#" class="sl-app-link">T·∫£i ·ª©ng d·ª•ng StarLine</a>
            </div>
        </div>
    </section>
</div>



<style>
    .destinations-container h2 {
    font-size: 28px;
    font-weight: 700;
}

.destination-card {
    position: relative;
    width: 100%;
    height: 320px;
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: 0.3s ease;
}

.destination-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: 0.4s;
}

.destination-card:hover img {
    transform: scale(1.05);
}

.destination-info {
    position: absolute;
    bottom: 0;
    left: 0;
    padding: 20px;
    width: 100%;
    color: white;
    background: linear-gradient(to top, rgba(0,0,0,0.6), rgba(0,0,0,0));
}
.destination-info h5 {
    font-size: 20px;
    font-weight: 700;
    margin: 0;
}

.destination-info p {
    font-size: 14px;
    opacity: 0.9;
    margin-top: 3px;
}

</style>

<div class="container my-5 destinations-container">

    <h2 class="mb-4 text-center">
        üåç Nh·ªØng chuy·∫øn ƒëi qu·ªëc t·∫ø: h√£y t√¨m h∆∞·ªõng d·∫´n
    </h2>

    <div class="row g-4">

        <!-- 1 -->
<div class="col-12 col-md-6 col-lg-3">
            <a href="https://www.etrip4u.com/du-lich/du-lich-dao-bali-thien-duong-du-lich-indonesia" target="_blank" style="text-decoration:none; color:inherit;">
                <div class="destination-card">
                    <img src="./img/homepage/bali.jpeg" alt="">
                    <div class="destination-info">
                        <h5>Bali</h5>
                        <p>Indonesia</p>
                    </div>
                </div>
            </a>
        </div>


        <!-- 2 -->
        <div class="col-12 col-md-6 col-lg-3">
           <a href="https://www.etrip4u.com/du-lich/du-lich-bangkok-kham-pha-thu-do-thai-lan-thien-duong-cua-dan-me-xe-dich"target="_blank" style="text-decoration:none; color:inherit;">
                <div class="destination-card">
                    <img src="./img/homepage/bang_coc.jpeg" alt="">
                    <div class="destination-info">
                        <h5>BƒÉng C·ªëc</h5>
                        <p>Th√°i Lan</p>
                    </div>
                </div>
           </a>
        </div>
        <!-- 3 -->
        <div class="col-12 col-md-6 col-lg-3">
            <a href="https://www.etrip4u.com/du-lich/seoul-han-quoc"target="_blank" style="text-decoration:none; color:inherit;">
                <div class="destination-card">
                    <img src="./img/homepage/seoul.jpeg" alt="">
                    <div class="destination-info">
                        <h5>Seoul</h5>
                        <p>H√†n Qu·ªëc</p>
                    </div>
                </div>
            </a>
        </div>

        <!-- 4 -->
        <div class="col-12 col-md-6 col-lg-3">
            <a href="https://www.etrip4u.com/du-lich/du-lich-istanbul-kham-pha-thanh-pho-2-600-tuoi"target="_blank" style="text-decoration:none; color:inherit;">
                <div class="destination-card">
                    <img src="./img/homepage/istanbul.jpg" alt="">
                    <div class="destination-info">
                        <h5>Istanbul</h5>
                        <p>Th·ªï Nhƒ© K√¨</p>
                    </div>
                </div>
            </a>
        </div>

    </div>
</div>


<style>
    .accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease-in-out;
    padding: 0 20px;
    background-color: #fcfcfc;
}

.accordion-item.active .accordion-content {
    max-height: 200px; /* ƒê·ªô cao t·ªëi ƒëa t√πy ch·ªânh theo n·ªôi dung */
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
}

.arrow {
    width: 8px;
    height: 8px;
    border-right: 2px solid #333;
    border-bottom: 2px solid #333;
    transform: rotate(45deg);
    transition: 0.3s;
}

.accordion-item.active .arrow {
    transform: rotate(-135deg);
}

.accordion-header {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px;
    border-bottom: 1px solid #eee;
    font-size: 16px;
    color: #002d63;
}
    :root {
    --primary-color: #003580; /* M√†u xanh ƒë·∫≠m StarLine */
    --text-color: #333;
    --bg-light: #f5f7fa;
    --border-color: #e6e9ed;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #fff;
    color: var(--text-color);
    line-height: 1.6;
}

.starline-container {
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
}

/* Ti√™u ƒë·ªÅ m·ª•c */
.section-title {
    color: var(--primary-color);
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 24px;
}

/* Th·∫ª t√≠nh nƒÉng */
.feature-card {
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    margin-bottom: 40px;
}

.feature-title {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 12px;
}

.feature-text {
    font-size: 14px;
    color: #666;
    margin-bottom: 10px;
}

.see-more {
    color: #006ce4;
    text-decoration: none;
    font-size: 14px;
    float: right;
}

/* Danh s√°ch m·∫πo (Accordion Style) */
.accordion-list {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    overflow: hidden;
}

.accordion-item {
    border-bottom: 1px solid var(--border-color);
}

.accordion-item:last-child {
    border-bottom: none;
}

.accordion-header {
    padding: 18px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s;
}

.accordion-header:hover {
    background-color: var(--bg-light);
}

/* Icon m≈©i t√™n xu·ªëng (gi·∫£ l·∫≠p) */
.icon-chevron-down::after {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-right: 2px solid #666;
    border-bottom: 2px solid #666;
    transform: rotate(45deg);
}
</style>
<script>
    function toggleAccordion(element) {
    const parent = element.parentElement;
    const isAlreadyActive = parent.classList.contains('active');

    // ƒê√≥ng t·∫•t c·∫£ c√°c m·ª•c ƒëang m·ªü kh√°c
    document.querySelectorAll('.accordion-item').forEach(item => {
        item.classList.remove('active');
    });

    // N·∫øu m·ª•c v·ª´a nh·∫•n ch∆∞a m·ªü th√¨ m·ªõi m·ªü n√≥ ra
    if (!isAlreadyActive) {
        parent.classList.add('active');
    }
}
</script>
<div class="starline-container">
    <section class="info-section">
        <h2 class="section-title">T·∫°i Sao N√™n ƒê·∫∑t V√© M√°y Bay V·ªõi StarLine?</h2>
        <div class="feature-card">
            <h3 class="feature-title">H√†nh tr√¨nh ph√π h·ª£p ri√™ng cho b·∫°n</h3>
            <p class="feature-text">
                B·∫°n ƒë√£ s·∫µn s√†ng cho chuy·∫øn h√†nh tr√¨nh v∆∞∆°n t·ªõi nh·ªØng v√¨ sao? StarLine gi√∫p vi·ªác t√¨m ki·∫øm chuy·∫øn bay tr·ªü n√™n c√° nh√¢n h√≥a v√† ƒë∆°n gi·∫£n h∆°n bao gi·ªù h·∫øt. Ch√∫ng t√¥i k·∫øt n·ªëi b·∫°n v·ªõi h√†ng ng√†n ƒë∆∞·ªùng bay t·ªëi ∆∞u v·ªõi m·ª©c gi√° minh b·∫°ch nh·∫•t.
            </p>
            <a href="#" class="see-more">Xem th√™m</a>
        </div>
    </section>

    <section class="tips-section">
    <h2 class="section-title">M·∫πo ƒê·∫∑t Chuy·∫øn Bay Gi√° R·∫ª</h2>
    <div class="accordion-list">
        
        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>Bay trong tu·∫ßn l√†m vi·ªác</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>Ch·ªçn bay v√†o ng√†y trong tu·∫ßn c√≥ th·ªÉ gi√∫p b·∫°n ti·∫øt ki·ªám chi ph√≠. C√°c chuy·∫øn bay kh·ªüi h√†nh trong tu·∫ßn, ƒë·∫∑c bi·ªát l√† v√†o th·ª© 5, th∆∞·ªùng s·∫Ω r·∫ª h∆°n do √≠t ng∆∞·ªùi du l·ªãch v√†o nh·ªØng ng√†y n√†y.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>Tham kh·∫£o ∆∞u ti√™n t·ª´ h√£ng StarLine</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>H·ªá th·ªëng c·ªßa StarLine hi·ªÉn th·ªã "ch·∫ø ƒë·ªô l·ªãch" gi√∫p b·∫°n d·ªÖ d√†ng so s√°nh gi√° v√© gi·ªØa c√°c ng√†y. Vi·ªác xem l∆∞·ªõt kho·∫£ng gi√° gi√∫p b·∫°n ch·ªçn ƒë∆∞·ª£c ng√†y kh·ªüi h√†nh r·∫ª nh·∫•t trong th√°ng.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>C√¢n nh·∫Øc khung gi·ªù v√†ng khi ƒë·∫∑t v√©</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>C√°c chuy·∫øn bay v√†o s√°ng s·ªõm ho·∫∑c ƒë√™m mu·ªôn th∆∞·ªùng c√≥ gi√° th·∫•p h∆°n ƒë√°ng k·ªÉ so v·ªõi c√°c khung gi·ªù cao ƒëi·ªÉm (9h s√°ng - 18h t·ªëi).</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>ƒê·∫∑t v√© tr·ª±c ti·∫øp qua ·ª©ng d·ª•ng StarLine</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>S·ª≠ d·ª•ng App StarLine th∆∞·ªùng c√≥ c√°c m√£ gi·∫£m gi√° ƒë·ªôc quy·ªÅn d√†nh cho thi·∫øt b·ªã di ƒë·ªông v√† t√≠nh nƒÉng th√¥ng b√°o khi gi√° v√© gi·∫£m (Price Alerts).</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>∆Øu ƒë√£i ph√∫t ch√≥t kh√¥ng ph·∫£i l√∫c n√†o c≈©ng r·∫ª h∆°n</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>ƒê·ª´ng ƒë·ª£i ƒë·∫øn s√°t ng√†y m·ªõi ƒë·∫∑t. Th√¥ng th∆∞·ªùng, ƒë·∫∑t v√© tr∆∞·ªõc √≠t nh·∫•t 3-6 tu·∫ßn s·∫Ω gi√∫p b·∫°n c√≥ m·ª©c gi√° ·ªïn ƒë·ªãnh v√† nhi·ªÅu l·ª±a ch·ªçn ch·ªó ng·ªìi h∆°n.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>Ch·ªçn chuy·∫øn bay c√≥ n·ªëi chuy·∫øn (Transit)</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>C√°c chuy·∫øn bay th·∫≥ng th∆∞·ªùng ƒë·∫Øt h∆°n. N·∫øu b·∫°n kh√¥ng qu√° v·ªôi, ch·ªçn m·ªôt chuy·∫øn bay d·ª´ng t·∫°i m·ªôt ƒëi·ªÉm trung chuy·ªÉn c√≥ th·ªÉ gi·∫£m gi√° v√© t·ª´ 20% ƒë·∫øn 40%.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>Thanh to√°n b·∫±ng th·∫ª t√≠n d·ª•ng ƒë·ªÉ nh·∫≠n ∆∞u ƒë√£i</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>StarLine li√™n k·∫øt v·ªõi nhi·ªÅu ng√¢n h√†ng ƒë·ªÉ ho√†n ti·ªÅn (cashback) ho·∫∑c t√≠ch ƒëi·ªÉm d·∫∑m bay khi b·∫°n thanh to√°n b·∫±ng th·∫ª t√≠n d·ª•ng li√™n k·∫øt.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>C·∫£nh gi√°c v·ªõi chi ph√≠ ·∫©n</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>Lu√¥n ki·ªÉm tra xem gi√° cu·ªëi c√πng ƒë√£ bao g·ªìm thu·∫ø, ph√≠ s√¢n bay v√† h√†nh l√Ω k√Ω g·ª≠i ch∆∞a ƒë·ªÉ tr√°nh b·∫•t ng·ªù khi ƒë·∫øn b∆∞·ªõc thanh to√°n.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>K·ª≥ ngh·ªâ tr·ªçn g√≥i (Combo V√© + Kh√°ch s·∫°n)</span>
                <span class="arrow"></span>
            </div>
            <div class="accordion-content">
                <p>ƒê·∫∑t combo v√© m√°y bay v√† kh√°ch s·∫°n c√πng l√∫c tr√™n StarLine th∆∞·ªùng gi√∫p b·∫°n ti·∫øt ki·ªám h∆°n so v·ªõi vi·ªác ƒë·∫∑t ri√™ng l·∫ª t·ª´ng d·ªãch v·ª•.</p>
            </div>
        </div>

    </div>
</section>

<style>
/* N√∫t tr√≤n n·ªïi */
.floating-chat-icon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background-color: #3867ff; /* M√†u xanh ƒë·ªìng b·ªô */
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    z-index: 999;
}

/* Khung Chat ch√≠nh */
.chat-popup {
    position: fixed;
    bottom: 95px;
    right: 30px;
    width: 350px;
    height: 500px;
    background-color: #ffffff;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    display: none; /* M·∫∑c ƒë·ªãnh ·∫©n */
    flex-direction: column;
    z-index: 1000;
    overflow: hidden;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    transition: all 0.3s ease;
}

/* Thanh ti√™u ƒë·ªÅ */
.chat-header {
    background: linear-gradient(135deg, #3867ff, #2549cc);
    color: white;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
}

.close-btn {
    background: transparent;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    line-height: 1;
}

/* V√πng ch·ª©a tin nh·∫Øn */
#message-container {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    background-color: #f8f9fa;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Bong b√≥ng tin nh·∫Øn */
.msg-item {
    max-width: 80%;
    padding: 10px 14px;
    border-radius: 18px;
    font-size: 14px;
    line-height: 1.4;
    word-wrap: break-word;
}

.msg-right {
    align-self: flex-end;
    background-color: #3867ff;
    color: white;
    border-bottom-right-radius: 2px;
}

.msg-left {
    align-self: flex-start;
    background-color: #ffffff;
    color: #333;
    border-bottom-left-radius: 2px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

/* V√πng nh·∫≠p li·ªáu */
.chat-input-area {
    padding: 12px;
    background: white;
    border-top: 1px solid #eee;
    display: flex;
    align-items: center;
    gap: 8px;
}

#chat-input {
    flex: 1;
    border: 1px solid #ddd;
    border-radius: 20px;
    padding: 8px 15px;
    outline: none;
}

#send-btn {
    background-color: #3867ff;
    color: white;
    border: none;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    cursor: pointer;
    transition: 0.2s;
}

#send-btn:hover { background-color: #2549cc; }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="floating-chat-icon" onclick="toggleChat()">
    <i class="fas fa-headset"></i>
</div>

<div id="chat-box" class="chat-popup">
    <div class="chat-header">
        <div class="header-info">
            <i class="fas fa-circle" style="color: #2ecc71; font-size: 10px; margin-right: 5px;"></i>
            <span>H·ªó tr·ª£ tr·ª±c tuy·∫øn</span>
        </div>
        <button class="close-btn" onclick="toggleChat()">&times;</button>
    </div>
    
    <div id="message-container">
        </div>

    <div class="chat-input-area">
        <input type="text" id="chat-input" placeholder="Nh·∫≠p tin nh·∫Øn..." autocomplete="off">
        <button id="send-btn" onclick="sendMessage()">
            <i class="fas fa-paper-plane"></i>
        </button>
    </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
    const socket = io();
    const userId = "{{user._id}}";
    let isHistoryLoaded = false; // Bi·∫øn ki·ªÉm so√°t ƒë·ªÉ tr√°nh n·∫°p l·ªãch s·ª≠ nhi·ªÅu l·∫ßn

    // Trong file script c·ªßa ng∆∞·ªùi d√πng
function toggleChat() {
    const chatBox = document.getElementById('chat-box');
    
    if (chatBox.style.display === 'none' || chatBox.style.display === '') {
        chatBox.style.display = 'flex';
        
        if (userId) {
            // Lu√¥n g·ªçi join_chat khi m·ªü ƒë·ªÉ ƒë·∫£m b·∫£o socket ƒëang ·ªü ƒë√∫ng ph√≤ng n·∫øu b·ªã reconnect
            socket.emit('join_chat', userId);
            
            if (!isHistoryLoaded) {
                // N·∫øu b·∫°n c√≥ h√†m ri√™ng ƒë·ªÉ l·∫•y l·ªãch s·ª≠ th√¨ g·ªçi ·ªü ƒë√¢y
                // socket.emit('get_history', userId); 
                isHistoryLoaded = true;
            }
        }
    } else {
        chatBox.style.display = 'none';
    }
}

function sendMessage() {
    const input = document.getElementById('chat-input');
    const content = input.value.trim();
    
    // Th·ª≠ l·∫•y tr·ª±c ti·∫øp t·ª´ bi·∫øn to√†n c·ª•c n·∫øu c√≥, ho·∫∑c ID
    const userName = document.getElementById('user-display-name')?.innerText || "{{user.name}}"; 

    if (content !== "" && userId) {
        // Log tr·ª±c ti·∫øp v√†o m·ªôt khung th√¥ng b√°o tr√™n giao di·ªán n·∫øu console l·ªói
        // alert("ƒêang g·ª≠i t√™n: " + userName); 

        socket.emit('send_message', { 
            userId: userId, 
            userName: userName, 
            content: content 
        });
        input.value = '';
    }
}

    socket.on('load_history', (history) => {
        const container = document.getElementById('message-container');
        container.innerHTML = ''; 
        history.forEach(msg => appendMessageToUI(msg));
    });

    socket.on('receive_message', (data) => {
        appendMessageToUI(data);
    });

    function appendMessageToUI(data) {
    const container = document.getElementById('message-container');
    if(!container) return;

    const div = document.createElement('div');
    // Ch·ªâ c·∫ßn 2 class: 'msg-item' (chung) v√† 'msg-right'/'msg-left' (ri√™ng)
    div.classList.add('msg-item');
    div.classList.add(data.sender === 'user' ? 'msg-right' : 'msg-left');
    
    div.innerText = data.content;

    container.appendChild(div);
    container.scrollTop = container.scrollHeight; 
}
</script>

</div>
